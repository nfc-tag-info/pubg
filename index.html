<!doctype html>
<html lang="lt">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Iki kito susitikimo</title>
<style>
  :root{
    --bg:#0f1724; --panel:#0b1220; --accent:#ffcc00; --muted:#bfc8d6;
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
    padding:2rem; font-family:Inter,Roboto,"Segoe UI",Arial,sans-serif;
    background:linear-gradient(180deg,#071022 0%, #0d1a2a 100%); color:var(--muted);
  }
  .wrap{
    width:100%; max-width:720px;
    background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));
    border-radius:14px; padding:4.5rem 2rem 2rem; box-shadow:0 10px 30px rgba(2,6,23,.7);
    position:relative;
  }
  .logo{
    position:absolute; left:50%; top:0; transform:translate(-50%,-50%);
    background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.2);
    padding:.75rem 1rem; border-radius:14px; backdrop-filter:blur(8px);
    box-shadow:0 10px 30px rgba(0,0,0,.6);
  }
  .logo img{display:block; height:64px; width:auto}

  h1{margin:0 0 .5rem 0; color:#fff; font-size:1.6rem; text-align:center;}
  .countdown{display:flex; gap:12px; justify-content:center; margin:1rem 0 1.25rem; flex-wrap:wrap;}
  .box{background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01)); border-radius:10px; padding:12px 14px; min-width:92px; text-align:center;}
  .num{color:#fff; font-weight:700; font-size:1.4rem; display:block}
  .lbl{font-size:.78rem; color:var(--muted); margin-top:4px; display:block}
  .date{ text-align:center; color:var(--muted); font-size:.98rem; border-top:1px solid rgba(255,255,255,.06); padding-top:1rem; margin-top:.25rem; }

  .stats{ margin-top:1.5rem; border-top:1px solid rgba(255,255,255,.06); padding-top:1.25rem; }
  .stats h2{ text-align:center; color:#fff; font-size:1.05rem; margin:0 0 .75rem 0;}
  .search-form{ display:flex; gap:.5rem; justify-content:center; flex-wrap:wrap; }
  .search-form input{ min-width:220px; padding:.6rem .8rem; border-radius:10px; border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.06); color:#fff; }
  .search-form button,.play-btn{
    padding:.6rem 1rem; border-radius:10px; border:none; background:linear-gradient(90deg,#ffcc00,#ffb300);
    color:#0b0b0b; font-weight:700; cursor:pointer;
  }
  #pubgHint{text-align:center; font-size:.9rem; color:#bfc8d6; margin-top:.5rem;}

  /* ---- Mini ≈æaidimo overlay ---- */
  .overlay{
    position:fixed; inset:0; background:rgba(5,10,18,.96);
    display:none; align-items:center; justify-content:center; z-index:9999;
  }
  .game-wrap{
    width:min(900px, 96vw); padding:1rem; border-radius:16px; background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.06); box-shadow:0 10px 30px rgba(0,0,0,.7);
  }
  .game-top{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:.5rem; }
  .badge{ background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1); padding:.4rem .6rem; border-radius:10px; color:#fff; font-weight:700; }
  .close-btn{ background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); color:#fff; padding:.45rem .8rem; border-radius:10px; cursor:pointer; }
  canvas{ width:100%; height:auto; display:block; background:linear-gradient(180deg,#0f1724 0%, #0b1220 100%); border-radius:12px; }
  .hint{ text-align:center; font-size:.9rem; color:#cfd7e3; margin-top:.5rem; }
</style>
</head>
<body>
  <main class="wrap" role="main">
    <div class="logo" aria-hidden="true">
      <img src="pubg-1-logo%20(2).svg" alt="PUBG logo">
    </div>

    <h1 id="title">Iki kito susitikimo liko</h1>

    <section class="countdown" id="countdown" aria-live="polite">
      <div class="box"><span class="num" id="days">--</span><span class="lbl">dien≈≥</span></div>
      <div class="box"><span class="num" id="hours">--</span><span class="lbl">val.</span></div>
      <div class="box"><span class="num" id="minutes">--</span><span class="lbl">min.</span></div>
      <div class="box"><span class="num" id="seconds">--</span><span class="lbl">sek.</span></div>
    </section>

    <p class="date">Susitikimas: <strong>2025-10-31 17:00</strong> ‚Äì <strong>2025-11-02</strong></p>

    <!-- PUBG paie≈°ka -->
    <section class="stats">
      <h2>PUBG ≈æaidƒójo statistika</h2>
      <form id="pubgSearch" class="search-form">
        <input id="pubgName" type="text" placeholder="ƒÆvesk PUBG nikƒÖ">
        <button type="submit">Rodyti statistikƒÖ</button>
      </form>
      <p id="pubgHint"></p>
    </section>

    <!-- Mygtukas atidaryti mini ≈æaidimƒÖ -->
    <div style="display:flex;justify-content:center;margin-top:1rem;">
      <button class="play-btn" id="openGame">ƒÆ PUBG mini ≈æaidimƒÖ</button>
    </div>
  </main>

  <!-- Mini ≈æaidimo overlay -->
  <div class="overlay" id="gameOverlay" aria-hidden="true">
    <div class="game-wrap">
      <div class="game-top">
        <div class="badge">Ta≈°kai: <span id="score">0</span> | Rekordas: <span id="hiscore">0</span></div>
        <div style="display:flex; gap:.5rem;">
          <button class="close-btn" id="pauseBtn">‚è∏Ô∏è Pauzƒó (P)</button>
          <button class="close-btn" id="closeGame">‚úñ U≈æverti</button>
        </div>
      </div>
      <canvas id="game" width="900" height="260"></canvas>
      <div class="hint">≈†okimas: <b>Space</b> arba <b>‚Üë</b> arba <b>palietimas</b>. ‚Äì vesk per kli≈´tis, gauk ta≈°k≈≥. üéØ</div>
    </div>
  </div>

<script>
  /* ===== COUNTDOWN iki 2025-10-31 17:00 (vietiniu laiku) ===== */
  const target = new Date(2025, 9, 31, 17, 0, 0);
  const titleEl = document.getElementById('title');
  const el = { d: q('#days'), h: q('#hours'), m: q('#minutes'), s: q('#seconds') };
  function q(s){ return document.querySelector(s); }

  function tick(){
    const now = new Date(); let diff = target - now;
    if (diff <= 0){
      titleEl.innerHTML = 'Susitikimas prasidƒójo üç∫';
      el.d.textContent = '0'; el.h.textContent = '00'; el.m.textContent = '00'; el.s.textContent = '00';
      clearInterval(iv); return;
    }
    const t = Math.floor(diff/1000), d = Math.floor(t/86400),
          h = Math.floor(t%86400/3600), m = Math.floor(t%3600/60), s = t%60;
    el.d.textContent = d; el.h.textContent = String(h).padStart(2,'0');
    el.m.textContent = String(m).padStart(2,'0'); el.s.textContent = String(s).padStart(2,'0');
  }
  tick(); const iv = setInterval(tick, 1000);

  /* ===== PUBG paie≈°ka (OP.GG) ===== */
  document.getElementById('pubgSearch').addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('pubgName').value.trim();
    const hint = document.getElementById('pubgHint');
    if(!name){ hint.textContent = 'ƒÆra≈°yk ≈æaidƒójo vardƒÖ (nikƒÖ).'; return; }
    const url = `https://pubg.op.gg/user/${encodeURIComponent(name)}`;
    hint.innerHTML = `Atidaroma: <a href="${url}" target="_blank" rel="noopener" style="color:#ffcc00">${url}</a>`;
    window.open(url, '_blank', 'noopener');
  });

  /* ===== MINI ≈ΩAIDIMAS (Canvas ‚Äûrunner‚Äú) ===== */
  const overlay = q('#gameOverlay'), openBtn = q('#openGame'), closeBtn = q('#closeGame'), pauseBtn = q('#pauseBtn');
  const cvs = q('#game'), ctx = cvs.getContext('2d');
  let running = false, paused = false, raf = null, lastT = 0;
  let score = 0, hiscore = Number(localStorage.getItem('runner_hiscore')||0);
  q('#hiscore').textContent = hiscore;

  // Fiziniai parametrai
  const GROUND_Y = cvs.height - 40;          // ≈æemƒó
  const GRAV = 2000;                          // gravitacija px/s^2
  const JUMP_V = -700;                        // ≈°uolio greitis px/s
  let speed = 300;                             // pasaulio greitis px/s
  const speedGain = 0.2;                      // kiek spartƒója per sekundƒô

  // ≈Ωaidƒójo objektas
  const player = { x: 60, y: GROUND_Y-40, w: 34, h: 40, vy: 0, onGround: true };
  // Kli≈´tys
  const obstacles = [];
  let spawnTimer = 0;

  function resetGame(){
    score = 0; speed = 300; spawnTimer = 0; player.y = GROUND_Y-40; player.vy=0; player.onGround=true;
    obstacles.length = 0; lastT = performance.now();
  }

  function jump(){
    if (!running || paused) return;
    if (player.onGround){
      player.vy = JUMP_V; player.onGround = false;
    }
  }

  function spawnObstacle(){
    // atsitiktinƒós ‚Äûdƒó≈æƒós‚Äú 20‚Äì36 px auk≈°ƒçio, 20‚Äì36 px ploƒçio
    const h = 20 + Math.floor(Math.random()*16);
    const w = 20 + Math.floor(Math.random()*16);
    obstacles.push({ x: cvs.width + 20, y: GROUND_Y - h, w, h, passed:false });
  }

  function update(dt){
    // greitƒójimas
    speed += speedGain * dt;

    // ≈æaidƒójas
    player.vy += GRAV * dt;
    player.y += player.vy * dt;
    if (player.y >= GROUND_Y - player.h){
      player.y = GROUND_Y - player.h; player.vy = 0; player.onGround = true;
    }

    // kli≈´tys
    spawnTimer -= dt;
    if (spawnTimer <= 0){
      spawnObstacle();
      spawnTimer = 0.9 + Math.random()*0.9; // kas 0.9‚Äì1.8 s
    }
    for (const o of obstacles){
      o.x -= speed * dt;
      // praƒójo ‚Äì ta≈°kas
      if (!o.passed && o.x + o.w < player.x){
        o.passed = true; score++; q('#score').textContent = score;
      }
      // susid≈´rimas
      if (rectsCollide(player, o)){
        gameOver();
        return;
      }
    }
    // i≈°valom senus
    while (obstacles.length && obstacles[0].x + obstacles[0].w < -10) obstacles.shift();
  }

  function draw(){
    // fonas
    ctx.clearRect(0,0,cvs.width,cvs.height);

    // ≈æemƒó
    ctx.fillStyle = '#152337';
    ctx.fillRect(0, GROUND_Y, cvs.width, 4);

    // ‚Äûparalakso‚Äú juostos
    ctx.fillStyle = 'rgba(255,255,255,.05)';
    for (let i=0;i<6;i++){
      const x = (i*180 - (performance.now()/20)%180);
      ctx.fillRect(x, GROUND_Y-18, 120, 2);
    }

    // kli≈´tys
    for (const o of obstacles){
      ctx.fillStyle = '#ffcc00';
      roundRect(ctx, o.x, o.y, o.w, o.h, 4, true);
    }

    // ≈æaidƒójas (karys su ≈°almu ‚Äì stilizuota fig≈´ra)
    // k≈´nas
    ctx.fillStyle = '#ffffff';
    roundRect(ctx, player.x, player.y, player.w, player.h, 6, true);
    // ≈°almas
    ctx.fillStyle = '#0b1220';
    ctx.fillRect(player.x+4, player.y+4, player.w-8, 10);
    // veido ‚Äûstiklas‚Äú
    ctx.fillStyle = '#ffcc00';
    ctx.fillRect(player.x+8, player.y+6, player.w-16, 6);

    // tekstas, jei pauzƒó
    if (paused){
      ctx.fillStyle = 'rgba(0,0,0,.35)';
      ctx.fillRect(0,0,cvs.width,cvs.height);
      drawCenterText('Pauzƒó ‚Äî paspausk P arba TAP, kad tƒôsti', 16);
    }
  }

  function loop(ts){
    if (!running){ return; }
    const dt = Math.min(0.05, (ts - lastT)/1000); // iki 50 ms
    lastT = ts;
    if (!paused){
      update(dt);
      draw();
    }
    raf = requestAnimationFrame(loop);
  }

  function rectsCollide(a,b){
    return a.x < b.x + b.w && a.x + a.w > b.x && a.y < b.y + b.h && a.y + a.h > b.y;
  }

  function drawCenterText(text, size=18){
    ctx.fillStyle = '#fff';
    ctx.font = `bold ${size}px system-ui, -apple-system, Segoe UI, Roboto, Arial`;
    ctx.textAlign = 'center';
    ctx.fillText(text, cvs.width/2, cvs.height/2);
  }

  function gameOver(){
    running = false;
    cancelAnimationFrame(raf);
    // u≈ætamsinti ir prane≈°imas
    ctx.fillStyle = 'rgba(0,0,0,.55)';
    ctx.fillRect(0,0,cvs.width,cvs.height);
    drawCenterText(`Game Over ‚Äî ta≈°kai: ${score}`, 22);
    setTimeout(()=>drawCenterText('Paspausk SPACE / TAP, kad ≈æaistum dar kartƒÖ', 16), 50);

    if (score > hiscore){ hiscore = score; localStorage.setItem('runner_hiscore', String(hiscore)); q('#hiscore').textContent = hiscore; }

    // leist greitai restartuoti
    const once = ()=>{ startGame(); window.removeEventListener('keydown',onceKey); cvs.removeEventListener('pointerdown',once); };
    const onceKey = (e)=>{ if (e.code==='Space' || e.code==='ArrowUp') once(); };
    window.addEventListener('keydown', onceKey, { once:true });
    cvs.addEventListener('pointerdown', once, { once:true });
  }

  function startGame(){
    resetGame();
    running = true; paused = false; q('#score').textContent = 0;
    lastT = performance.now(); raf = requestAnimationFrame(loop);
  }

  function togglePause(){
    if (!running) return;
    paused = !paused;
    pauseBtn.textContent = paused ? '‚ñ∂ Tƒôsti (P)' : '‚è∏Ô∏è Pauzƒó (P)';
  }

  // UI valdymas
  openBtn.addEventListener('click', ()=>{
    overlay.style.display = 'flex';
    overlay.setAttribute('aria-hidden','false');
    setTimeout(()=>{ startGame(); }, 50);
  });
  closeBtn.addEventListener('click', ()=>{
    running = false; cancelAnimationFrame(raf);
    overlay.style.display = 'none'; overlay.setAttribute('aria-hidden','true');
  });
  pauseBtn.addEventListener('click', togglePause);

  // valdymas: Space/ArrowUp arba TAP
  window.addEventListener('keydown',(e)=>{
    if (overlay.style.display!=='flex') return;
    if (e.code==='Space' || e.code==='ArrowUp'){ e.preventDefault(); jump(); }
    if (e.code==='KeyP'){ togglePause(); }
  });
  cvs.addEventListener('pointerdown', ()=>{ if (overlay.style.display==='flex'){ if (paused) togglePause(); else jump(); } });

  // utility ‚Äì apvalinti staƒçiakampiai
  function roundRect(ctx, x, y, w, h, r, fill){
    const rr = Math.min(r, w/2, h/2);
    ctx.beginPath();
    ctx.moveTo(x+rr, y);
    ctx.arcTo(x+w, y, x+w, y+h, rr);
    ctx.arcTo(x+w, y+h, x, y+h, rr);
    ctx.arcTo(x, y+h, x, y, rr);
    ctx.arcTo(x, y, x+w, y, rr);
    ctx.closePath();
    if (fill) ctx.fill();
  }
</script>
</body>
</html>
